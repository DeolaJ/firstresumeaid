(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{284:function(e,t,a){"use strict";t.a=function(e){return e.children}},486:function(e,t,a){},561:function(e,t,a){"use strict";a.r(t);var n=a(43),l=a(44),o=a(47),r=a(45),i=a(46),c=a(0),s=a.n(c),d=a(277),u=a(358),m=a(65),h=a(319),p=a(359),g=a(550),f=a(560),v=a(562),E=a(88),b=(a(486),a(90)),y=a(321),w=a(557),k=a(564),C=a(552),S=a(553),O=a(551),P=a(558),N=a(487),j=a.n(N),U=a(284),x=a(348),L=a.n(x),A=a(509),T={apiKey:"AIzaSyBeBG1oME4xJANzCbdRDkJrsG5fq6XHQjM",authDomain:"resumer-d86fd.firebaseapp.com",databaseURL:"https://resumer-d86fd.firebaseio.com",projectId:"resumer-d86fd",storageBucket:"resumer-d86fd.appspot.com",messagingSenderId:"1044938470524",appId:"1:1044938470524:web:983feebec13117fc"},I=A.apps.length?A.app():A.initializeApp(T),D=a(279),V=a(136),z=a(101),F=a.n(z),R=a(318),M=a.n(R),q=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.message;return t&&s.a.createElement(h.a,{text:!0},s.a.createElement(d.a.Column,{width:16},s.a.createElement(D.a,{basic:!0,padded:"very",textAlign:"center",style:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"70vh"}},s.a.createElement(V.a,{alt:"Loader image",centered:!0,size:"small",src:F.a}),a&&s.a.createElement(p.a,{as:"h3",size:"large",style:{color:"white",fontFamily:"'Asap Condensed', 'Lato', sans-serif !important"}},s.a.createElement(M.a,{cursor:{show:!1,blink:!0,element:"|",hideWhenDone:!0,hideWhenDoneDelay:1e3},avgTypingDelay:100},a," ...")))))}}]),t}(s.a.PureComponent),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).changePrice=function(){if(!a.state.discountedamount){var e=a.props,t=e.db,n=e.setNewAmount,l=a.state,o=l.email,r=l.amount,i=l.code;t.collection("coupon").get().then(function(e){e.docs.forEach(function(e){var t,l=e.data();Object.keys(l).forEach(function(e){if(e.toString()===o&&l[e][0]===i){var c=.01*(100-(t=l[e][1]))*Number(r);c=c.toFixed(2),n(c),a.setState({amount:c,percent:t})}})})})}},a.handleUploadStart=function(e){return a.setState(function(t){return{fileUploading:t.fileUploading.concat(e),isUploading:!0,progress:0}})},a.handleProgress=function(e){return a.setState({progress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.error(e)},a.handleUploadSuccess=function(e){a.setState(function(t){return{file:e,progress:100,isUploading:!1,complete:!0,files:t.files.concat(e)}}),I.storage().ref("cvs")},a.getReference=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.=",a=0;a<15;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},a.startLoading=function(){a.setState({loading:!0})},a.endLoading=function(){a.setState({loading:!1})},a.handleOpen=function(e){return a.setState({reference:e,modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1})},a.payNow=function(){var e=a.state,t=e.email,n=e.amount,l=e.currency,o=e.first_name,r=e.last_name,i=e.consultant,c=e.description,s=e.address,d=e.formValid,u=a.props,m=u.unload,h=u.finalStep;if(!1===d&&document.getElementById("email").focus(),!0===d){var p=a.getReference();return a.startLoading(),a.handleOpen(p),h(),L.a.post("/paystack-initialize",{email:t,amount:n,currency:l,reference:p,callback_url:"/verify",metadata:{custom_fields:[{first_name:o,last_name:r,consultant:i,description:c,address:s}]}}).then(function(e){console.log(e),a.endLoading(),document.querySelector(".modal iframe").setAttribute("src",e.data.data.data.authorization_url),m()}).catch(function(e){console.log(e)})}},a.handleChange=function(e,t){var n=t.name,l=t.value;console.log(n,l),"email"===n?a.setState(Object(y.a)({},n,l),function(){a.validateField(n,l)}):a.setState(Object(y.a)({},n,l))},a.validateField=function(e,t){var n=a.state.emailValid;switch(e){case"email":n=/^\s*(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))\s*$/.test(String(t).toLowerCase())}a.setState({emailValid:n},a.validateForm)},a.validateForm=function(){a.setState({formValid:a.state.emailValid})},a.state={file:"",isUploading:!1,progress:0,files:[],fileUploading:[],email:"",discountedamount:a.props.discountedamount,amount:a.props.amount,currency:"NGN",first_name:"",last_name:"",consultant:"",description:"",address:"",code:"",modalOpen:!1,loading:!1,emailValid:!1,formValid:!1},a.handleProgress=a.handleProgress.bind(Object(b.a)(a)),a.handleUploadError=a.handleUploadError.bind(Object(b.a)(a)),a.handleUploadStart=a.handleUploadStart.bind(Object(b.a)(a)),a.handleUploadSuccess=a.handleUploadSuccess.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleOpen=a.handleOpen.bind(Object(b.a)(a)),a.handleClose=a.handleClose.bind(Object(b.a)(a)),a.changePrice=a.changePrice.bind(Object(b.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.progress,a=e.complete,n=e.files,l=e.fileUploading,o=e.loading,r=e.email,i=e.first_name,c=e.last_name,d=e.consultant,m=e.description,h=e.address,p=e.code;return console.log(this.state),s.a.createElement(U.a,null,s.a.createElement(w.a,null,s.a.createElement(w.a.Group,{style:{marginBottom:"0"}},s.a.createElement(w.a.Input,{width:8,required:!0,label:"First name",value:i,name:"first_name",placeholder:"Enter your first name",onChange:this.handleChange}),s.a.createElement(w.a.Input,{width:8,required:!0,label:"Last name",value:c,name:"last_name",placeholder:"Enter your last name",onChange:this.handleChange})),s.a.createElement(w.a.Input,{id:"email",required:!0,label:"Email address",value:r,name:"email",placeholder:"Enter your email address",onChange:this.handleChange}),s.a.createElement(k.a,{error:!0,visible:this.state.email.length>0&&!this.state.emailValid,size:"small"},s.a.createElement("p",null,"Email address is invalid")),s.a.createElement(w.a.Field,null,s.a.createElement("label",null,"House Address (OPTIONAL)"),s.a.createElement(C.a,{placeholder:"Enter your Home Address",value:h,name:"address",rows:2,onChange:this.handleChange})),s.a.createElement(w.a.Input,{label:"Name of Consultant",placeholder:"Enter the consultant's name",name:"consultant",value:d,onChange:this.handleChange}),s.a.createElement(w.a.Field,null,s.a.createElement("label",null,"Brief Description of service (OPTIONAL)"),s.a.createElement(C.a,{placeholder:"Enter a brief description of your request",value:m,rows:2,name:"description",onChange:this.handleChange})),this.state.percent?s.a.createElement("div",{className:"coupon-true"},"Your ",this.state.percent,"% discount was accepted"):s.a.createElement(w.a.Field,null,s.a.createElement("label",null,"Enter Coupon (If available)"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement("input",{placeholder:"Enter your code",name:"code",value:p,onChange:this.handleChange}),s.a.createElement(u.a,{className:"primary-sub",style:{marginLeft:"1em"},onClick:this.changePrice},"Validate"))),s.a.createElement(w.a.Group,{className:"upload-field"},s.a.createElement(w.a.Field,{required:!0},s.a.createElement("label",null,"Upload your CV. Ensure your CV is named appropriately"),s.a.createElement(j.a,{multiple:!0,accept:".pdf,.doc,.docx",storageRef:I.storage().ref("cvs"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress,className:"primary-sub"}),this.state.isUploading&&l.map(function(e){return s.a.createElement("div",{key:e.size,className:"uploading"},s.a.createElement("label",null,"Uploading ",e.name),s.a.createElement(S.a,{percent:t,indicating:!0}))}),a&&n.map(function(e){return s.a.createElement("div",{className:"uploaded",key:e},"Uploaded ",e)}))),s.a.createElement(w.a.Group,null,s.a.createElement(w.a.Field,null,s.a.createElement(O.a,{label:"I agree to the Terms and Conditions"}))),s.a.createElement(u.a,{fluid:!0,type:"submit",className:"primary-main",onClick:this.payNow},"Pay Now")),s.a.createElement(P.a,{open:this.state.modalOpen,onClose:this.handleClose,basic:!0,size:"large",closeIcon:!0,style:{height:"100%",width:"100%"}},o&&s.a.createElement(q,{loading:o,message:"Please wait"}),!o&&s.a.createElement(U.a,null,s.a.createElement("div",{className:"hide-on-mobile background-div"}),s.a.createElement("iframe",{title:"Payment checkout",src:null}))))}}]),t}(c.Component),H=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).unloadForm=function(){window.removeEventListener("beforeunload",a.onUnload)},a.setNewAmount=function(e){a.setState({discountedamount:e})},a.state={discountedamount:null},a.onUnload=a.onUnload.bind(Object(b.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"onUnload",value:function(e){console.log("hellooww"),e.returnValue="Hellooww"}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.onUnload)}},{key:"render",value:function(){var e=this.props,t=e.prices,a=e.activePackage,n=e.prevStage,l=e.db,o=e.totalPrice,r=e.finalStep,i=this.state.discountedamount?this.state.discountedamount:o;return s.a.createElement(d.a.Column,{width:16,style:{padding:"0"}},s.a.createElement(d.a,{columns:2,className:"stagetwo-row"},s.a.createElement(d.a.Column,{className:"activecolumn_left"},s.a.createElement(h.a,{className:"checkout-form desktop"},s.a.createElement("div",{className:"cancel-request"},s.a.createElement(u.a,{className:"primary-sub",onClick:n},s.a.createElement(m.a,{name:"chevron left"}),"Cancel Request")),s.a.createElement("div",{className:"package-info"},s.a.createElement(p.a,{as:"h2"},a.length>1?a.join(" & "):a,this.state.discountedamount?s.a.createElement(p.a.Subheader,null,s.a.createElement("span",{style:{marginRight:"2em",textDecoration:"line-through",color:"#777"}},"$",o),s.a.createElement("span",{style:{fontWeight:"800"}},"$",this.state.discountedamount)):s.a.createElement(p.a.Subheader,null,"$",o))))),s.a.createElement(d.a.Column,{style:{padding:"0"}},s.a.createElement(h.a,{className:"checkout-form desktop"},s.a.createElement(p.a,{as:"h1"},"Checkout"),s.a.createElement(_,{prices:t,activePackage:a,db:l,setNewAmount:this.setNewAmount,finalStep:r,discountedamount:this.state.discountedamount,amount:i,unload:this.unloadForm})))))}}]),t}(c.Component),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).unloadForm=function(){window.removeEventListener("beforeunload",a.onUnload)},a.setNewAmount=function(e){a.setState({discountedamount:e})},a.state={discountedamount:null},a.onUnload=a.onUnload.bind(Object(b.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"onUnload",value:function(e){console.log("hellooww"),e.returnValue="Hellooww"}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.onUnload)}},{key:"render",value:function(){var e=this.props,t=e.prices,a=e.activePackage,n=e.prevStage,l=e.db,o=e.totalPrice,r=e.finalStep,i=this.state.discountedamount?this.state.discountedamount:o;return s.a.createElement(d.a.Column,{width:16,style:{padding:"0"},className:"stagetwo-mobile"},s.a.createElement(d.a,{style:{padding:"1em 0"}},s.a.createElement(d.a.Row,{columns:2},s.a.createElement(d.a.Column,{textAlign:"left",verticalAlign:"middle"},s.a.createElement("div",{className:"cancel-request-mobile"},s.a.createElement(u.a,{className:"primary-sub",onClick:n},s.a.createElement(m.a,{name:"chevron left"}),"Cancel Request"))),s.a.createElement(d.a.Column,{textAlign:"right",verticalAlign:"middle"},s.a.createElement(p.a,{as:"h4"},a.length>1?a.join(" & "):a,this.state.discountedamount?s.a.createElement(p.a.Subheader,null,s.a.createElement("span",{style:{marginRight:"2em",textDecoration:"line-through",color:"#777"}},"$",o),s.a.createElement("span",{style:{fontWeight:"800"}},"$",this.state.discountedamount)):s.a.createElement(p.a.Subheader,null,"$",o))))),s.a.createElement(h.a,{className:"checkout-form"},s.a.createElement(p.a,{as:"h1"},"Checkout"),s.a.createElement(_,{prices:t,activePackage:a,db:l,setNewAmount:this.setNewAmount,finalStep:r,discountedamount:this.state.discountedamount,amount:i,unload:this.unloadForm})))}}]),t}(c.Component),$=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).finalStep=function(){a.setState({stageThree:!0})},a.getDropdownValue=function(e,t){var n=t.value;a.setState(function(e){return{activePackage:e.activePackage.includes(n)?e.activePackage:e.activePackage.concat(n)}})},a.nextStage=function(e){return function(){a.setState(function(t){return{stageOne:!1,stageTwoMobile:!!e,stageTwoDesk:!e}})}},a.prevStage=function(){a.setState({stageOne:!0,stageTwoMobile:!1,stageTwoDesk:!1})},a.removePackage=function(e){return function(){var t=a.state.activePackage.filter(function(t,a,n){return t!==e});a.setState({activePackage:t})}},a.updateValue=function(){var e=document.querySelector(".payment-container").clientWidth<=768;a.setState(function(t){return{mobile:e,stageTwoDesk:!t.stageOne&&!e,stageTwoMobile:!(t.stageOne||!e)}})},a.state={stageOne:!0,stageTwoDesk:!1,stageTwoMobile:!1,stageThree:!1,mobile:null,activePackage:[],db:{},resumeOptions:[{id:"student-level",text:"Student level",value:"Student level"},{id:"it-level",text:"IT level",value:"IT level"},{id:"professional-level",text:"Professional level",value:"Professional level"},{id:"executive-level",text:"Executive level",value:"Executive level"},{id:"linkedin-profile-add-on",text:"LinkedIn profile add-on",value:"LinkedIn profile add-on"},{id:"executive-biography-add-on",text:"Executive biography add-on",value:"Executive biography add-on"},{id:"professional-level-combo",text:"Professional Level Combo",value:"Professional Level Combo"},{id:"it-level-combo",text:"IT Level Combo",value:"IT Level Combo"},{id:"executive-level-combo",text:"Executive Level Combo",value:"Executive Level Combo"}]},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.activePackage,t=this.state.mobile;window.addEventListener("resize",this.updateValue);var a=I.firestore();if(!t){var n=document.querySelector(".payment-container").clientWidth;t=n<=768,this.setState({mobile:t,db:a})}if(e){var l=this.state.resumeOptions.filter(function(t){return t.id===e})[0].value;this.setState(function(e){return{stageOne:!1,stageTwoMobile:!!t,stageTwoDesk:!t,activePackage:e.activePackage.concat(l)}})}}},{key:"componentWillMount",value:function(){window.removeEventListener("resize",this.updateValue)}},{key:"render",value:function(){var e=this,t={"Student level":"199.95","IT level":"279.95","Professional level":"249.95","Executive level":"299.95","LinkedIn profile add-on":"149.95","Executive biography add-on":"179.95","Professional Level Combo":"560","IT Level Combo":"580","Executive Level Combo":"600"},a=this.state,n=a.stageOne,l=a.stageTwoDesk,o=a.stageTwoMobile,r=a.activePackage,i=a.mobile,c=a.resumeOptions,b=a.stageThree,y=this.state.db,w=r.length>0&&r.reduce(function(e,a){return Number((e+Number(t[a])).toFixed(2))},0);return console.log(this.state),s.a.createElement(d.a,{className:"payment-container"},s.a.createElement("div",{className:"step-count",style:l?{right:"2em",top:"2em",width:"calc(50% - 3em)",color:"#444"}:o?{width:"100%",transform:"translateX(-50%)",left:"50%",top:"5.5em",color:"#444"}:null},s.a.createElement("div",{className:n?"active":l||o?"completed":null},i?"Package":"Select Package"),s.a.createElement("div",{className:l||o?"active":b?"completed":null},i?"Info":"Personal Information"),s.a.createElement("div",{className:b?"active":null},"Pay")),n&&s.a.createElement(d.a.Column,{width:16,className:"stageone-row"},s.a.createElement("div",{className:"return-link"},s.a.createElement(E.b,{to:"/"},s.a.createElement(u.a,{className:"primary-sub"},s.a.createElement(m.a,{name:"chevron left"})," Return to Home"))),s.a.createElement(h.a,{className:"first-stage"},s.a.createElement(p.a,{as:"h2",style:{color:"white"}},"Select your order"),s.a.createElement(g.a,null),s.a.createElement("div",{className:"first-step"},s.a.createElement(f.a,{placeholder:"Select Package",as:i?"h4":"h3",selection:!0,options:c,scrolling:!0,onChange:this.getDropdownValue}))),!(0===r.length)&&s.a.createElement(U.a,null,s.a.createElement(h.a,{className:"order-list"},s.a.createElement(v.a,{basic:!0,className:"order-table unstackable",size:"large"},s.a.createElement(v.a.Header,{style:{color:"white"}},s.a.createElement(v.a.Row,null,s.a.createElement(v.a.HeaderCell,null,"Package List"),s.a.createElement(v.a.HeaderCell,{textAlign:"right"},"($) Price"),s.a.createElement(v.a.HeaderCell,{width:2}))),s.a.createElement(v.a.Body,null,r.map(function(a){return s.a.createElement(v.a.Row,{key:a},s.a.createElement(v.a.Cell,null,a),s.a.createElement(v.a.Cell,{textAlign:"right"},"$ ",t[a]),s.a.createElement(v.a.Cell,{width:2,textAlign:"right"},s.a.createElement(u.a,{size:"tiny",color:"red",onClick:e.removePackage(a)},i?s.a.createElement(m.a,{name:"trash"}):"Remove")))}),s.a.createElement(v.a.Row,{style:{height:"4.5em"}}),s.a.createElement(v.a.Row,null,s.a.createElement(v.a.Cell,{style:{fontWeight:"bolder"}},"Total"),s.a.createElement(v.a.Cell,{style:{fontWeight:"bolder"},textAlign:"right"},"$ ",w),s.a.createElement(v.a.Cell,{width:2}))))),s.a.createElement(h.a,{textAlign:"right",style:{marginTop:"1em"}},s.a.createElement(u.a,{size:i?"small":"large",className:"primary-sub",onClick:this.nextStage(i)},"Proceed to checkout")))),l&&s.a.createElement(H,{prevStage:this.prevStage,totalPrice:w,activePackage:r,finalStep:this.finalStep,db:y,prices:t}),o&&s.a.createElement(W,{prevStage:this.prevStage,totalPrice:w,activePackage:r,finalStep:this.finalStep,db:y,prices:t}))}}]),t}(c.PureComponent);t.default=$}}]);
//# sourceMappingURL=12.2a65d8e7.chunk.js.map